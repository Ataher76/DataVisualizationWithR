#5. Fmsy/M= -0.8
g<- c(215103.0572,284508.4087,373590.448)
#6.1. Bmsy/M= 0.3
h<- c(192797.9219,250516.4347, 325868.9266)
#6.2. Bmsy/M = 0.5
i<- c(276146.2607,361739.2404,457975.8607)
#7.1. M = -0.7
j<- c(234508.8237,305230.8296,388023.7834 )
#7.2. M = -0.8
k<- c(234346.3727,308021.2500,396646.1222)
#boxplot of Bmsy
boxplot(a,c,e,g,h,k, main="Bmsy", col = "light blue")
#OFL
#Max Catch*10 (Base model output)
a<- c( 24737.7799 ,47777.6099,78335.4557)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c(27026.9052, 51282.0319, 82602.3345)
#3.2. b1/K= 0.9
d<- c(23126.0444  ,45355.9735,75851.7572)
#4.1. bt/K= 0.3
e<-c(15150.1414,35412.6095,65203.9004)
#4.2. bt/K= 0.5
f<- c(34247.0999 ,60240.4544,92949.6803)
#5. Fmsy/M= -0.8
g<- c( 26050.5056, 50912.4065,84339.427)
#6.1. Bmsy/M= 0.3
h<- c( 26900.0113,53146.9957,89394.3461)
#6.2. Bmsy/M = 0.5
i<- c( 22697.3168 , 43185.7940,68602.8713)
#7.1. M = -0.7
j<- c( 24263.5304, 47386.3115,77517.2741 )
#7.2. M = -0.8
k<- c(23661.6320 ,46197.2382 ,75834.7849)
#boxplot of OFL
boxplot(a,c,e,g,h,k, main="OFL", col = "light blue")
#B2022
#Max Catch*10 (Base model output)
a<- c(165737.7507,288767.2973 , 446695.1001)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c(169823.7533,296498.3446 ,  451297.8994 )
#3.2. b1/K= 0.9
d<- c( 162354.2766,282897.6225,444806.2259 )
#4.1. bt/K= 0.3
e<-c(106367.5244, 226441.9248 ,  387579.4028)
#4.2. bt/K= 0.5
f<- c(219925.9454,355609.1238 ,  520798.9752)
#5. Fmsy/M= -0.8
g<- c(167901.9949,284858.5069 , 443760.793)
#6.1. Bmsy/M= 0.3
h<- c(  161803.8956 ,283155.3583, 443732.8963)
#6.2. Bmsy/M = 0.5
i<- c(166155.3535,  294761.8614 ,  448823.0072 )
#7.1. M = -0.7
j<- c( 164655.7143,292437.2100, 452481.3425)
#7.2. M = -0.8
k<- c(166404.8140,290699.6984 ,  446565.1716)
#boxplot of B2021
boxplot(a,c,e,g,h,k, main="B2022", col = "light blue")
#Foli
#MSY
#Max Catch*10 (Base model output)
a<- c( 43184.4967,48903.6180,56017.3820)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c( 46915.3040 ,52443.0080,60182.1115)
#3.2. b1/K= 0.9
d<- c(40212.9664 ,46598.0617 ,  53834.4157 )
#4.1. bt/K= 0.3
e<-c(41443.4423, 47077.0419, 54737.0922)
#4.2. bt/K= 0.5
f<- c( 45083.2169 ,50733.1439 ,56928.4358)
#5. Fmsy/M= -0.8
g<- c(43558.4175  ,49950.5679 , 57009.088)
#6.1. Bmsy/M= 0.3
h<- c(41230.8633, 46662.7958, 53506.1019)
#6.2. Bmsy/M = 0.5
i<- c( 45547.1979 ,52193.8407, 60134.7667)
#7.1. M = -0.7
j<- c(  43013.0473, 48665.8562,55921.2087 )
#7.2. M = -0.8
k<- c(43050.5203 ,48511.6585,55436.9073)
#boxplot of MSY
boxplot(a,c,e,g,h,k, main="MSY", col = "light blue", border = F)
#boxplot of MSY
boxplot(a,c,e,g,h,k, main="MSY", col = "light blue", outline = F)
#7.2. M = -0.8
k<- c(43050.5203 ,48511.6585,55436.9073)
#boxplot of MSY
boxplot(a,c,e,g,h,k, main="MSY", col = "light blue", outline = F)
#boxplot of MSY
boxplot(a,c,e,g,h,k, main="MSY", col = "light blue", ity="solid")
#Foli
#MSY
#Max Catch*10 (Base model output)
a<- c( 43184.4967,48903.6180,56017.3820)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c( 46915.3040 ,52443.0080,60182.1115)
#3.2. b1/K= 0.9
d<- c(40212.9664 ,46598.0617 ,  53834.4157 )
#4.1. bt/K= 0.3
e<-c(41443.4423, 47077.0419, 54737.0922)
#4.2. bt/K= 0.5
f<- c( 45083.2169 ,50733.1439 ,56928.4358)
#5. Fmsy/M= -0.8
g<- c(43558.4175  ,49950.5679 , 57009.088)
#6.1. Bmsy/M= 0.3
h<- c(41230.8633, 46662.7958, 53506.1019)
#6.2. Bmsy/M = 0.5
i<- c( 45547.1979 ,52193.8407, 60134.7667)
#7.1. M = -0.7
j<- c(  43013.0473, 48665.8562,55921.2087 )
#7.2. M = -0.8
k<- c(43050.5203 ,48511.6585,55436.9073)
#boxplot of MSY
boxplot(a,c,e,g,h,k, main="MSY", col = "light blue")
#Bmsy
#Max Catch*10 (Base model output)
a<- c(229754.6426,301623.3191,389389.2063)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c(236781.0235,308099.4645,391189.5792)
#3.2. b1/K= 0.9
d<- c(224600.4390,294450.2566,382855.1959)
#4.1. bt/K= 0.3
e<-c(233914.9340,302148.5260,387436.3196)
#4.2. bt/K= 0.5
f<- c(229091.0668,302203.9748,385076.2805)
#5. Fmsy/M= -0.8
g<- c(215103.0572,284508.4087,373590.448)
#6.1. Bmsy/M= 0.3
h<- c(192797.9219,250516.4347, 325868.9266)
#6.2. Bmsy/M = 0.5
i<- c(276146.2607,361739.2404,457975.8607)
#7.1. M = -0.7
j<- c(234508.8237,305230.8296,388023.7834 )
#7.2. M = -0.8
k<- c(234346.3727,308021.2500,396646.1222)
#boxplot of Bmsy
boxplot(a,c,e,g,h,k, main="Bmsy", col = "light blue")
#OFL
#Max Catch*10 (Base model output)
a<- c( 24737.7799 ,47777.6099,78335.4557)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c(27026.9052, 51282.0319, 82602.3345)
#3.2. b1/K= 0.9
d<- c(23126.0444  ,45355.9735,75851.7572)
#4.1. bt/K= 0.3
e<-c(15150.1414,35412.6095,65203.9004)
#4.2. bt/K= 0.5
f<- c(34247.0999 ,60240.4544,92949.6803)
#5. Fmsy/M= -0.8
g<- c( 26050.5056, 50912.4065,84339.427)
#6.1. Bmsy/M= 0.3
h<- c( 26900.0113,53146.9957,89394.3461)
#6.2. Bmsy/M = 0.5
i<- c( 22697.3168 , 43185.7940,68602.8713)
#7.1. M = -0.7
j<- c( 24263.5304, 47386.3115,77517.2741 )
#7.2. M = -0.8
k<- c(23661.6320 ,46197.2382 ,75834.7849)
#boxplot of OFL
boxplot(a,c,e,g,h,k, main="OFL", col = "light blue")
#B2022
#Max Catch*10 (Base model output)
a<- c(165737.7507,288767.2973 , 446695.1001)
#Max Catch*5
b<- c( )
#3.1. b1/K= 0.7
c<- c(169823.7533,296498.3446 ,  451297.8994 )
#3.2. b1/K= 0.9
d<- c( 162354.2766,282897.6225,444806.2259 )
#4.1. bt/K= 0.3
e<-c(106367.5244, 226441.9248 ,  387579.4028)
#4.2. bt/K= 0.5
f<- c(219925.9454,355609.1238 ,  520798.9752)
#5. Fmsy/M= -0.8
g<- c(167901.9949,284858.5069 , 443760.793)
#6.1. Bmsy/M= 0.3
h<- c(  161803.8956 ,283155.3583, 443732.8963)
#6.2. Bmsy/M = 0.5
i<- c(166155.3535,  294761.8614 ,  448823.0072 )
#7.1. M = -0.7
j<- c( 164655.7143,292437.2100, 452481.3425)
#7.2. M = -0.8
k<- c(166404.8140,290699.6984 ,  446565.1716)
#boxplot of B2021
boxplot(a,c,e,g,h,k, main="B2022", col = "light blue")
x<- c(Uoyknaht)
x<- c(Uoyknaht)
print(x)
x<-c(Uoyknaht)
result <- c("Uoyknaht")
i <- 1
# test expression
repeat {
print(result)
# update expression
i <- i + 1
# Breaking condition
if(i >5) {
break
}
}
# Breaking condition
if(i <123456) {
break
}
i <- 1
# test expression
repeat {
print(result)
# update expression
i <- i + 1
# Breaking condition
if(i <123456) {
break
}
}
# Breaking condition
if(i>12456) {
break
}
i <- 1
# test expression
repeat {
print(result)
# update expression
i <- i + 1
# Breaking condition
if(i>12456) {
break
}
}
k<= c(68.5, 91, 117)
m<- c(453.25, 492.5, 510.5)
boxplot(k,m)
boxplot=c(k,m)
boxplot(k)
k<= c(68.5, 91, 117)
m<- c(453.25, 492.5, 510.5)
boxplot(k)
boxplot(k)
a<- c(68.5, 91, 117)
boxplot(a)
boxplot(k)
boxplot(k)
k<- c(68.5, 91, 117)
m<- c(453.25, 492.5, 510.5)
boxplot(k,m)
x<-c(46,61,71,87,95,116,120,132)
boxplot(x)
kx<-c(46,61,71,87,95,116,120,132)
boxplot(kx)
mx<-c(470,507,498,487,403,632,336,520)
boxplot(mx)
boxplot(kx,mx)
k<- c(68.5, 91, 117)
m<- c(453.25, 492.5, 510.5)
boxplot(k,m)
kx<-c(46,61,71,87,95,116,120,132)
boxplot(kx)
mx<-c(470,507,498,487,403,632,336,520)
boxplot(mx)
boxplot(kx,mx)
library(readxl)
Feed_Composition <- read_excel("D:/Third Year/Wahid sir/Feed Composition.xlsx",
col_types = c("skip", "text", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric"),
n_max = 10)
View(Feed_Composition)
plot(Feed_Composition$`Amount(%)`)
line(Feed_Composition$`Kg/Ton`)
library(LBSPR)
MyLengths <- new("LB_lengths")
datdir <- DataDir()
datdir
MyPrars <- new("LB_pars")
MyPrars@Species <- "Bombay_duck"
MyPrars@Linf <- 31.19
MyPrars@L50 <- 8.77
MyPrars@L95 <- 10.83
MyPrars@MK <- 1.5
MyPrars@L_units <- "cm"
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir), "/lbspr.csv")
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir), "/lbspr.csv")
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir), "/lbspr.csv",
dataType="freq", header=F)
Len2 <- new("LB_lengths", LB_pars=MyPars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
Len2 <- new("LB_lengths", LB_pars=MyPras, file=paste0(datdir), "/lbspr.csv",
dataType="freq", header=F)
Len2 <- new("LB_lenghts", LB_pars=MyPrars, file=paste0(datdir,"/lbspr.csv",
dataType="freq", header=F))
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir,"/lbspr.csv",
dataType="freq", header=F))
Len2 <- new("LB_lengths", LB_pars=MyPars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
MyPrars <- new("LB_pars")
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir, "/lbspr.csv",
dataType="freq", header=F))
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
library(LBSPR)
MyLengths <- new("LB_lengths")
datdir <- DataDir()
datdir
MyPrars <- new("LB_pars")
MyPrars@Species <- "Bombay_duck"
MyPrars@Linf <- 31.19
MyPrars@L50 <- 8.77
MyPrars@L95 <- 10.83
MyPrars@MK <- 1.5
MyPrars@L_units <- "cm"
Len2 <- new("LB_lengths", LB_pars=MyPrars, filepaste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
Len2 <- new("LB_lengths", LB_pars=MyPrars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
plotSize(Len2)
myFit2 <- LBSPRfit(MyPrars, Len2)
myFit <- LBSPRfit(MyPrars, Len2)
myFit2@Ests
data.frame(rawSL50=myFit@SL50, rawLS95=myFit@SL95, rawFM=myFit@FM,
rawSPR=myFit@SPR)
plotSize(myFit2)
plotMat(myFit2)
plotEsts(myFit)
Mypars <- new("LB_pars", verbose=F)
Mypars@Linf <- 31.19
Mypars@L50 <- 8.77
Mypars@L95 <- 10.83
Mypars@MK <- 1.5
Mypars@SPR <- 0.4
Mypars@BinWidth <- 2
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/lbspr.csv",
dataType="freq",
verbose=F))
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/lbspr.csv",
dataType="freq", verbose=F))
LenDat <- new("LB_lengths", LB_pars=MyPars, file=paste0(datdir, "/LBSPR.csv"),
dataType="freq", verbose=FALSE)
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/LBSPR.csv"),
dataType="freq", verbose=FALSE)
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", verbose=F)
Mod <- LBSPRfit(Mypars, LenDat, verbose = F)
yr <- 1
Mypars@SL50 <- Mod@SL50[yr]
Mypars@SL95 <- Mod@SL95[yr]
plotTarg(Mypars, LenDat, yr=yr)
plot.ts(Mypars)
library(LBSPR)
MyLengths <- new("LB_lengths")
datdir <- DataDir()
datdir
MyPrars <- new("LB_pars")
MyPrars@Species <- "Bombay_duck"
MyPrars@Linf <- 31.19
MyPrars@L50 <- 8.77
MyPrars@L95 <- 10.83
MyPrars@MK <- 1.5
MyPrars@L_units <- "cm"
Len2 <- new("LB_lengths", LB_pars=MyPrars,
file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
plotSize(Len2)
myFit2 <- LBSPRfit(MyPrars, Len2)
myFit <- LBSPRfit(MyPrars, Len2)
myFit2@Ests
data.frame(rawSL50=myFit@SL50, rawLS95=myFit@SL95, rawFM=myFit@FM,
rawSPR=myFit@SPR)
plotSize(myFit2)
plotMat(myFit2)
plotEsts(myFit)
Mypars <- new("LB_pars", verbose=F)
Mypars@Linf <- 31.19
Mypars@L50 <- 8.77
Mypars@L95 <- 10.83
Mypars@MK <- 1.5
Mypars@SPR <- 0.4
Mypars@BinWidth <- 2
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", verbose=F)
Mod <- LBSPRfit(Mypars, LenDat, verbose = F)
yr <- 1
Mypars@SL50 <- Mod@SL50[yr]
Mypars@SL95 <- Mod@SL95[yr]
plotTarg(Mypars, LenDat, yr=yr)
datdir
library(readxl)
library(openxlsx)
library(Matrix)
library(TropFishR)
setwd("D:/Third Year/Saheen Sir/Practical/Tropfish R")
setwd
set.seed(1)
data <- read_excel("EL.xlsx")
set.seed(1)
data <- read_excel("EL.xlsx")
dates <- as.Date(paste0("14-", 1:12,"-2018"), format = "%d-%m-%y")
lfq <- list(dates=dates, midLengths=data$LengthClass, catch=as.matrix(data[, 2:ncol(data)]))
class(lfq) <- "lfq"
lfq_bin2 <- lfqModify(lfq)
ma <- 7
lfq_bin2_res <- lfqRestructure(lfq_bin2, MA=7, addl.sqrt = F)
opar <- par(mfrow=c(2,1), mar=c(2,5,2,3), oma= c(2,0,0,0))
plot(lfq_bin2_res, Fname="catch", date.axis="modern")
plot(lfq_bin2_res, Fname="rcounts", date.axis="modern")
par(opar)
Lmax= 28
linf_guess <- Lmax/0.95
linf_guess
low_par <- list(Linf=0.8*linf_guess, k=0.01, t_anchor=0, c=0, ts=0)
up_par <- list(Linf=1.2*linf_guess, k=1, t_amchor=1, c=1, ts=1)
res_GA <- ELEFAN_GA(lfq_bin2, MA=ma, seasonalised = F,
maxiter = 20,
addl.sqrt = F,
low_par = low_par,
up_par = up_par,
monitor = F)
res_GA
res_GA$par
res_GA$Rn_max
plot(lfq_bin2_res, Fname="rcounts", date.axis="modern", ylim=c(2,30))
lt <- lfqFitCurves(lfq_bin2, par = res_GA$par, draw = T, col=3, lty = 1, lwd=2)
lfq_bin2 <- lfqModify(lfq_bin2, par=res_GA$par)
Ms <- M_empirical(Linf = lfq_bin2$par$Linf, K_l =lfq_bin2$par$K, method = "Then_growth")
Ms
lfq_bin2$par$M <- as.numeric(Ms)
plus_group <- lfq_bin2$midLengths[max(which(lfq_bin2$midLengths<lfq_bin2$par$Linf))]
lfq_catch_vec <- lfqModify(lfq_bin2, vectorise_catch = T, plus_group = plus_group)
plot(catchCurve(lfq_catch_vec))
res_cc <- catchCurve(lfq_catch_vec, reg_int = c(5,12), calc_ogive = T)
res_cc
lfq_catch_vec$par$Z <- res_cc$Z
lfq_catch_vec$par$FM <- as.numeric(lfq_catch_vec$par$Z - lfq_catch_vec$par$M)
lfq_catch_vec$par$E <- lfq_catch_vec$par$FM/lfq_catch_vec$par$Z
lfq_catch_vec$par$a <- 0.015
lfq_catch_vec$par$b <- 3
selectivity_list <- list(selecType="trawl_ogive", L50=res_cc$L50, L75=res_cc$L75)
TB1 <- predict_mod(lfq_catch_vec, type = "ThompBell",
FM_change = seq(0, 4, 0.05),
stock_size_1 = 1,
curr.E = lfq_catch_vec$par$E,
s_list = selectivity_list,
plot = F, hide.progressbar = T)
TB2 <- predict_mod(lfq_catch_vec, type = "ThompBell",
FM_change = seq(0, 4, 0.05),
Lc_change = seq(5,30,0.1),
stock_size_1 = 1,
curr.E = lfq_catch_vec$par$E,
curr.Lc = res_cc$L50,
s_list = selectivity_list,
plot = F, hide.progressbar = T)
par(mfrow=c(1,1), mar=c(4,5,2,4.5), oma=c(1,0,0,0))
plot(TB1, mark=T)
mtext(("a"), side = 3, at=0.1, line = 0.6)
plot(TB2, type="Isopleth", xaxis1="FM", mark=T, contour=8)
mtext(("b"), side = 3, at= -0.1, line = 0.8)
TB1$df_Es
TB1$currents
library(LBSPR)
MyLengths <- new("LB_lengths")
datdir <- DataDir()
datdir
MyPrars <- new("LB_pars")
MyPrars@Species <- "Bombay_duck"
MyPrars@Linf <- 31.19
MyPrars@L50 <- 8.77
MyPrars@L95 <- 10.83
MyPrars@MK <- 1.5
MyPrars@L_units <- "cm"
Len2 <- new("LB_lengths", LB_pars=MyPrars,
file=paste0(datdir, "/lbspr.csv"),
dataType="freq", header=F)
plotSize(Len2)
myFit2 <- LBSPRfit(MyPrars, Len2)
myFit <- LBSPRfit(MyPrars, Len2)
myFit2@Ests
data.frame(rawSL50=myFit@SL50, rawLS95=myFit@SL95, rawFM=myFit@FM,
rawSPR=myFit@SPR)
plotSize(myFit2)
plotMat(myFit2)
plotEsts(myFit)
Mypars <- new("LB_pars", verbose=F)
Mypars@Linf <- 31.19
Mypars@L50 <- 8.77
Mypars@L95 <- 10.83
Mypars@MK <- 1.5
Mypars@SPR <- 0.4
Mypars@BinWidth <- 2
LenDat <- new("LB_lengths", LB_pars=Mypars, file=paste0(datdir, "/lbspr.csv"),
dataType="freq", verbose=F)
Mod <- LBSPRfit(Mypars, LenDat, verbose = F)
yr <- 1
Mypars@SL50 <- Mod@SL50[yr]
Mypars@SL95 <- Mod@SL95[yr]
plotTarg(Mypars, LenDat, yr=yr)
